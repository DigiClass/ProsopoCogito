@(username: String,
  document: models.generated.tables.records.DocumentRecord,
  fileparts: Seq[models.generated.tables.records.DocumentFilepartRecord],
  tasks: Seq[controllers.my.upload.TaskType])
<!DOCTYPE html>
<html>
  <head>
    <title>My Recogito - Organize Document</title>
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/my/upload/wizard.css")"/>
    <script src="@routes.Assets.versioned("lib/jquery/jquery.min.js")"></script>
    <script src="@routes.Assets.versioned("lib/jquery-ui/jquery-ui.min.js")"></script>
    <script src="@routes.Assets.versioned("lib/requirejs/require.js")" data-main="@routes.Assets.versioned("javascripts/my/upload/step3.js")"></script>
    <script>
      window.config = {
        owner      : '@username',
        documentId : '@document.getId',
        tasks      : [ @Html(tasks.map("'" + _.name + "'").mkString(", ")) ]
      };
    </script>
  </head>
  <body>
    <div id="content">
      <ul id="header-steps">
        <li class="arrow">Enter Metadata</li><li class="arrow">Attach Files</li><li class="active">Import</li>
      </ul>

      <h2>Drag to Change Order</h2>

      <ul class="fileparts">
        @for(part <- fileparts) {
          <li class="filepart-preview" data-id="@part.getId" data-type="@part.getContentType">
            @part.getTitle

            @if(tasks.size > 0) {
              <span class="filepart-processing-progress">
                Processing...
              </span>
            }
          </li>
        }
      </ul>

      <div id="buttons">
        <div class="buttons-right">
          <form action="@controllers.my.routes.MyRecogitoController.index(username)">
            <button class="next btn btn-large btn-blue" disabled="true">Done</button>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
