# Basically just keeps a record of all versions on an annotation. The modified annotation
# is stored as a serialized, non-indexed JSON string. For search/restore, all we need to
# know is who created each version, and when 
{
  "annotation": {
    "properties": {
      "annotation_id": { "type": "string", "index": "not_analyzed" },
      "history": {
        "type": "nested",
        "properties": {
          "version_id": { "type": "string", "index": "not_analyzed" },
          "last_modified_by": { "type": "string", "index": "not_analyzed" },
          "last_modified": { "type": "date", "format": "yyyy-MM-dd'T'HHmmssZ" },
          "annotation": { "type": "string", "index": "not_analyzed" }
        }
      }
    }
  }
}
